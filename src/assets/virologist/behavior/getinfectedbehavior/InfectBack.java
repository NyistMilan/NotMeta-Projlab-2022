package assets.virologist.behavior.getinfectedbehavior;//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Untitled
//  @ File Name : field.virologist.behavior.getinfectedbehavior.InfectBack.java
//  @ Date : 2022. 03. 23.
//  @ Author : 
//
//

import collectables.agent.Agent;
import assets.virologist.Virologist;
import collectables.equipment.Gloves;
import main.Skeleton;
public class InfectBack implements GetInfectedBehavior, java.io.Serializable{
    final private Gloves glove;
    public InfectBack(Gloves glove){
        this.glove=glove;
    }
    @Override
    public int GetPriority() {
        Skeleton.methodCall(this);
        Skeleton.methodReturn(this);
        return 3;
    }

    /**
     * v1 will get infected regardless of his protection level.
     *
     * @param v1 the field.virologist.Virologist who wants to infect
     * @param v2 the target of the action
     * @param a the Agents v1 wants to infect v2 with
     */

    @Override
    public void getInfected(Virologist v1, Virologist v2, Agent a) {
        Skeleton.methodCall(this, "v1", "v2", "a");
        v1.GetInfected(v2, a);
        glove.DecreaseEquipmentDurability();
        if(glove.GetDurability() == 0)
            glove.RemoveFromBackpack(v1, v1.GetBackpack());
        Skeleton.methodReturn(this);
    }
}
